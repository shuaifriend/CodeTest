{"version":3,"sources":[null,"webpack:////Users/zhangbing/github/CodeTest/projects/uni-app-todo/components/todo-items/todo-items.vue?bf6b","webpack:////Users/zhangbing/github/CodeTest/projects/uni-app-todo/components/todo-items/todo-items.vue?ea54","webpack:////Users/zhangbing/github/CodeTest/projects/uni-app-todo/components/todo-items/todo-items.vue?bd43","uni-app:///components/todo-items/todo-items.vue","webpack:////Users/zhangbing/github/CodeTest/projects/uni-app-todo/components/todo-items/todo-items.vue?3c5a","webpack:////Users/zhangbing/github/CodeTest/projects/uni-app-todo/components/todo-items/todo-items.vue?7dfc"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAuH;AACvH;AAC8D;AACL;AACa;;;AAGtE;AACmN;AACnN,gBAAgB,iNAAU;AAC1B,EAAE,gFAAM;AACR,EAAE,qFAAM;AACR,EAAE,8FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,yFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAu1B,CAAgB,wyBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC+B32B;AACA;AACA,kCADA;AAEA,0CAFA,EADA;;AAKA;AACA;AACA,iBADA;AAEA,oBAFA;AAGA;AACA;AACA,OALA,EADA;;AAQA;AACA,iBADA;AAEA,qBAFA;AAGA;AACA;AACA,OALA,EARA;;AAeA;AACA,iBADA;AAEA,qBAFA;AAGA;AACA;AACA,OALA,EAfA,EALA;;;AA4BA,MA5BA,kBA4BA;AACA;;AAEA,GA/BA;AAgCA;AACA,gBADA,wBACA,EADA,EACA,OADA,EACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OANA,MAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAnBA;AAoBA,WApBA,mBAoBA,CApBA,EAoBA,EApBA,EAoBA,OApBA,EAoBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBADA;AAEA,2BAFA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAhBA;;AAkBA;AACA,KA7CA;AA8CA,cA9CA,sBA8CA,EA9CA,EA8CA,OA9CA,EA8CA,IA9CA,EA8CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OANA,MAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA7DA;AA8DA,eA9DA,uBA8DA,EA9DA,EA8DA,OA9DA,EA8DA,IA9DA,EA8DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;AACA;AACA,KA3EA;AA4EA;AACA,gBA7EA,wBA6EA,IA7EA,EA6EA;AACA;AACA;AACA;AACA,KAjFA;AAkFA,mBAlFA,6BAkFA;AACA;AACA,+CADA;AAEA,4DAFA;AAGA,sDAHA;;AAKA,KAxFA;AAyFA,mBAzFA,2BAyFA,KAzFA,EAyFA,WAzFA,EAyFA,QAzFA,EAyFA;AACA;AACA;AACA;AACA,KA7FA,EAhCA,E;;;;;;;;;;;;;AC/BA;AAAA;AAAA;AAAA;AAA0sC,CAAgB,qmCAAG,EAAC,C;;;;;;;;;;;ACA9tC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"components/todo-items/todo-items.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./todo-items.vue?vue&type=template&id=de2ff446&\"\nvar renderjs\nimport script from \"./todo-items.vue?vue&type=script&lang=js&\"\nexport * from \"./todo-items.vue?vue&type=script&lang=js&\"\nimport style0 from \"./todo-items.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"Users/zhangbing/github/CodeTest/projects/uni-app-todo/components/todo-items/todo-items.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./todo-items.vue?vue&type=template&id=de2ff446&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./todo-items.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./todo-items.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"todo-content\">\n\t\t<!-- 未完成的todo -->\n    <uniSwipeAction>\n      <uniSwipeActionItem v-for=\"item in list\" :key=\"item.id\" :options=\"swipeOptions\" :show=\"true\" @click=\"onSwipe($event, item.id, item.checked)\" class=\"todo-list\" :class=\"{'todo--finish': item.checked}\">\n        <view class=\"todo-list__checkbox\">\n          <view class=\"checkbox\" @click=\"changeFinish(item.id, item.checked)\"></view>\n        </view>\n        <view class=\"todo-list__context\">\n          {{item.content}}\n        </view>\n      </uniSwipeActionItem>\n    </uniSwipeAction>\n    \n    <!-- 已完成的todo -->\n    <uniSwipeAction>\n      <uniSwipeActionItem v-for=\"item in finishList\" :key=\"item.id\" :options=\"swipeOptions\" :show=\"true\" @click=\"onSwipe($event, item.id, item.checked)\" class=\"todo-list todo--finish\">\n        <view class=\"todo-list__checkbox\">\n          <view class=\"checkbox\" @click=\"changeFinish(item.id, item.checked)\"></view>\n        </view>\n        <view class=\"todo-list__context\">\n          {{item.content}}\n        </view>\n      </uniSwipeActionItem>\n    </uniSwipeAction>\n\t</view>\n</template>\n\n<script>\n  import uniSwipeAction from '@/components/uni-swipe-action/uni-swipe-action.vue'\n  import uniSwipeActionItem from '@/components/uni-swipe-action-item/uni-swipe-action-item.vue'\n\texport default {\n    components: {\n      uniSwipeAction,\n      uniSwipeActionItem\n    },\n    props:{\n      list: {\n        type: Array,\n        required: true,\n        default: () => {\n          return []\n        }\n      },\n      finishList: {\n        type: Array,\n        required: false,\n        default: () => {\n          return []\n        }\n      },\n      swipeOptions: {\n        type: Array,\n        required: false,\n        default: () => {\n          return []\n        }\n      }\n    },\n\t\tdata() {\n\t\t\treturn {\n\t\t\t};\n\t\t},\n    methods: {\n      changeFinish(id, checked) {\n        // 状态已完成，从finishList中移出，再插入list中\n        if(checked) {\n          const todo = this.finishList.find(item => id === item.id);\n          const index = this.finishList.findIndex(item => id === item.id);\n          todo.checked = !todo.checked\n          this.list.unshift(todo);\n          this.finishList.splice(index, 1);\n        } else {\n          const todo = this.list.find(item => id === item.id);\n          const index = this.list.findIndex(item => id === item.id);\n          todo.checked = !todo.checked\n          this.finishList.unshift(todo);\n          this.list.splice(index, 1);\n        }\n        uni.setStorageSync('todo', this.list);\n        uni.setStorageSync('todo-finish', this.finishList);\n        this.$emit('onChange');\n      },\n      onSwipe(e, id, checked) {\n        let type = e.content.text;\n        let msgContent = '确定删除该内容吗？';\n        if(type === '恢复') {\n          msgContent = '确定删恢复内容吗？';\n        }\n        uni.showModal({\n          title: '提示',\n          content: msgContent,\n          success: (res) => {\n            if(res.cancel) {\n              return\n            }\n            let item = null;\n            if(res.confirm) {\n              if(type === '删除') {\n                this.deleteItem(id, checked, item)\n              }\n              if(type === '恢复') {\n                this.recoverItem(id, checked, item)\n              }\n            }\n          }\n        })\n        this.$emit('onSwipe');\n      },\n      deleteItem(id, checked, item) {\n        if(checked) {\n          const index = this.finishList.findIndex(item => item.id === id);\n          item = this.finishList.find(item => item.id === id);\n          // 从已完成列表中删除\n          this.finishList.splice(index, 1);\n          uni.setStorageSync('todo-finish', this.finishList);\n        } else {\n          const index = this.list.findIndex(item => item.id === id);\n          item = this.list.find(item => item.id === id);\n          this.list.splice(index, 1);\n          uni.setStorageSync('todo', this.list);\n        } \n        this.saveRecycles(item);\n        this.$emit('onChange');\n      },\n      recoverItem(id, checked, item) {\n        // 已完成状态，保持状态\n        const todos = this.getLocalStorage().todos;\n        const finishTodos = this.getLocalStorage().finishTodos;\n        const recycles = this.getLocalStorage().recycles;\n        const index = recycles.findIndex(item => item.id === id);\n        if(checked) {\n          finishTodos.push(item);\n        } else {\n          todos.push(item);\n        }\n        recycles.splice(index, 1);\n        this.setLocalStorage(todos, finishTodos, recycles);\n      },\n      // 保存到回收站列表\n      saveRecycles(item) {\n        const recycles = this.getLocalStorage().recycles;\n        recycles.push(item);\n        uni.setStorageSync('recycles', recycles);\n      },\n      getLocalStorage() {\n        return {\n          todos: uni.getStorageSync('todo') || [],\n          finishTodos: uni.getStorageSync('todo-finish') || [],\n          recycles: uni.getStorageSync('recycles') || []\n        }\n      },\n      setLocalStorage(todos, finishTodos, recycles) {\n        uni.setStorageSync('todo', todos);\n        uni.setStorageSync('todo-finish', finishTodos);\n        uni.setStorageSync('recycles', recycles);\n      }\n    }\n\t}\n</script>\n\n<style>\n.todo-content {\n  position: relative;\n  padding-top: 45px;\n  padding-bottom: 100px;\n}\n.todo-list{\n  position: relative;\n  display: flex;\n  align-items: center;\n  /* padding: 15px; */\n  margin: 15px;\n  color: #0c3854;\n  font-size: 14px;\n  border-radius: 10px;\n  background-color: #cfebfd;\n  box-shadow: -1px 1px 5px 1px rgba(0,0,0,.1);\n  /* box-shadow: -1px 1px 5px 1px rgba(0,0,0,.1), -1px 2px 1px 0 rgb(255,255,255) inset; */\n  overflow: hidden;\n}\n.todo-list::after{\n  position: absolute;\n  content: \"\";\n  top: 0;\n  bottom: 0;\n  left: 0;\n  width: 5px;\n  background-color: #91d1e8;\n}\n.todo-list__checkbox{\n  padding-right: 15px;\n}\n\n.todo--finish .checkbox{\n  position: relative;\n  background-color: #eee;\n}\n.todo--finish .checkbox::after{\n  content: \"\";\n  position: absolute;\n  width: 10px;\n  height: 10px;\n  border-radius: 50%;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  margin: auto;\n  background-color: #CFEBFD;\n  box-shadow: 0 0 2px 0 rgba(0,0,0,.2) inset;\n}\n.todo--finish .todo-list__context{\n  color: #999999;\n}\n.todo--finish.todo-list::before{\n  content: \"\";\n  position: absolute;\n  top: 50%;\n  left: 40px;\n  right: 10px;\n  height: 2px;\n  margin: 0 auto;\n  transform: translateY(-50%);\n  background-color: #bdcdd8;\n}\n.todo--finish.todo-list::after{\n  background-color: #ccc;\n}\n.checkbox {\n  width: 20px;\n  height: 20px;\n  border-radius: 50%;\n  background-color: #FFFFFF;\n  box-shadow: 0 0 5px 1px rgba(0,0,0,.1);\n}\n</style>\n","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./todo-items.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./todo-items.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1591085768862\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}